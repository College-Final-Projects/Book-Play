<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Booking Details - Book&Play</title>
  <link rel="stylesheet" href="BookingDetails.css" />
</head>
<body>

  <!-- Venue Information Section -->
  <section class="venue-section" >
    <div class="venue-banner">
      <button class="back-btn" onclick="goBack()">â† Back</button>
      <img src="" alt="Venue Image" class="venue-image" id="venueImage" />
      <div class="venue-overlay">
        <h1 class="venue-name" id="venueName"></h1>
        <p class="venue-location" id="venueLocation"></p>
      </div>
    </div>

    <div class="booking-info">
      <div class="info-grid">
        <div class="info-card">
          <span class="info-label">Booking Date</span>
          <span class="info-value" id="bookingDate">Loading...</span>
        </div>
        <div class="info-card">
          <span class="info-label">Time</span>
          <span class="info-value" id="bookingTime">Loading...</span>
        </div>
        <div class="info-card">
          <span class="info-label">Booking ID</span>
          <span class="info-value" id="bookingId"></span>
        </div>
        <div class="info-card total-price">
          <span class="info-label">Total Venue Price</span>
          <span class="info-value"><span id="totalPrice"></span></span>
        </div>
        <div class="info-card privacy-card">
          <span class="info-label">Privacy</span>
          <button class="privacy-toggle" id="privacyToggle">
            <span class="privacy-status">Public</span>
            <span class="privacy-icon">ğŸŒ</span>
          </button>
        </div>
      </div>

      <!-- Private Room Password -->
      <div class="password-section" id="passwordSection" style="display: none;">
        <div class="password-card">
          <h3>ğŸ”’ Private Room Password</h3>
          <div class="password-display">
            <input type="text" id="roomPasswordInput" class="password-input" readonly style="display: none;">
            <code id="roomPassword"></code>
            <button class="copy-btn" id="copyPassword">ğŸ“‹ Copy</button>
            <button class="edit-password-btn" id="editPasswordBtn" style="display: none;">âœï¸ Edit</button>
            <button class="save-password-btn" id="savePasswordBtn" style="display: none;">ğŸ’¾ Save</button>
            <button class="cancel-password-btn" id="cancelPasswordBtn" style="display: none;">âŒ Cancel</button>
          </div>
          <p class="password-note">Share this password with players to join the private room</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Player List Section -->
  <section class="players-section">
    <div class="section-header">
      <h2 class="section-title">Players</h2>
      <div class="host-controls" id="hostControls">
        <button class="edit-prices-btn" id="editPricesBtn">âœ Edit Prices</button>
        <button class="save-prices-btn" id="savePricesBtn" style="display: none;">ğŸ’¾ Save Changes</button>
        <button class="cancel-edit-btn" id="cancelEditBtn" style="display: none;">âŒ Cancel</button>
      </div>
    </div>

    <div class="players-scroll-container">
      <button class="scroll-arrow scroll-left" id="scrollLeft"><span>â€¹</span></button>

      <!-- Player Cards will be injected here -->
      <div class="players-horizontal-scroll" id="playersScroll"></div>

      <button class="scroll-arrow scroll-right" id="scrollRight"><span>â€º</span></button>
    </div>
  </section>

  <!-- Payment Reminder Section -->
  <section class="payment-section">
    <div class="payment-reminder">
      <div class="timer-container">
        <div class="timer-icon">â°</div>
        <div class="timer-content">
          <h3 class="timer-title">Payment Deadline</h3>
          <div class="countdown-timer" id="countdown">
            <div class="time-unit">
              <span class="time-value" id="hours"></span>
              <span class="time-label">Hours</span>
            </div>
            <div class="time-separator">:</div>
            <div class="time-unit">
              <span class="time-value" id="minutes"></span>
              <span class="time-label">Minutes</span>
            </div>
            <div class="time-separator">:</div>
            <div class="time-unit">
              <span class="time-value" id="seconds"></span>
              <span class="time-label">Seconds</span>
            </div>
          </div>
          <p class="timer-message">
            You must pay at least <strong>20% (â‚ª<span id="minimumAmount"></span>)</strong> of the total booking price within 2 hours of booking creation, otherwise the booking will be automatically canceled.
          </p>
        </div>
      </div>
    </div>
  </section>



  <!-- Action Buttons -->
  <section class="actions-section">
    <div class="action-buttons">
      <button class="cancel-btn">Cancel Booking</button>
      <button class="pay-btn">Pay Now</button>
    </div>
  </section>

  <!-- Player Details Modal -->
  <div class="modal-overlay" id="playerModal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose">&times;</button>
      <div class="modal-header">
        <img src="" alt="Player" class="modal-player-image" id="modalPlayerImage">
        <div class="modal-player-info">
          <h2 class="modal-player-name" id="modalPlayerName"></h2>
          <p class="modal-player-role" id="modalPlayerRole"></p>
        </div>
      </div>
      <div class="modal-body">
        <div class="profile-section">
          <h3>Profile Information</h3>
          <div class="profile-details">
            <div class="detail-item">
              <span class="detail-label">Member Since:</span>
              <span class="detail-value" id="memberSince"></span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Games Played:</span>
              <span class="detail-value" id="gamesPlayed"></span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Rating:</span>
              <span class="detail-value" id="playerRating"></span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Favorite Sport:</span>
              <span class="detail-value" id="favoriteSport"></span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Location:</span>
              <span class="detail-value" id="playerLocation"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Payment Modal -->
  <div class="modal-overlay" id="paymentModal">
    <div class="modal-content payment-modal">
      <button class="modal-close" id="paymentModalClose">&times;</button>
      <div class="modal-header">
        <h2>ğŸ’³ Payment Details</h2>
      </div>
      <div class="modal-body">
        <div class="payment-summary">
          <div class="payment-item">
            <span class="payment-label">Total Venue Price:</span>
            <span class="payment-value">â‚ª<span id="modalTotalPrice">0</span></span>
          </div>
          <div class="payment-item">
            <span class="payment-label">Your Required Payment:</span>
            <span class="payment-value">â‚ª<span id="modalRequiredPayment">0</span></span>
          </div>
          <div class="payment-item">
            <span class="payment-label">Amount Already Paid:</span>
            <span class="payment-value">â‚ª<span id="modalAmountPaid">0</span></span>
          </div>
          <div class="payment-item total-amount">
            <span class="payment-label">Amount to Pay:</span>
            <span class="payment-value">â‚ª<span id="modalAmountToPay">0</span></span>
          </div>
        </div>
        
        <div class="initial-payment-section" id="initialPaymentSection" style="display: none;">
          <div class="initial-payment-info">
            <h3>ğŸ¦ Initial Deposit (20%)</h3>
            <p>No one has paid the initial 20% deposit yet. This deposit is required to secure the booking.</p>
            <div class="checkbox-container">
              <input type="checkbox" id="payInitialDeposit" class="payment-checkbox">
              <label for="payInitialDeposit">Pay the initial 20% deposit (â‚ª<span id="modalInitialDeposit">0</span>)</label>
            </div>
          </div>
        </div>
        

      </div>
      <div class="modal-footer">
        <button class="btn-secondary" id="cancelPayment">Cancel</button>
        <button class="btn-primary" id="confirmPayment">Confirm Payment</button>
      </div>
    </div>
  </div>

  <script src="BookingDetails.js"></script>
</body>
</html>
